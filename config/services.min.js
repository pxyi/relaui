app.factory("$ajax",function($http,$q){return{get:function(url,params){var deferred=$q.defer();return $http({url:url,method:"get",params:params}).then(function(res){deferred.resolve(res)},function(e){deferred.reject(e)}),deferred.promise},post:function(url,params){var deferred=$q.defer(),val="",str="";for(var item in data)str=item+"="+data[item],val+=str+"&";var data=val.slice(0,val.length-1);return $http({url:url,method:"post",data:data,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(res){deferred.resolve(res)},function(e){deferred.reject(e)}),deferred.promise}}}),app.constant("url","http://localhost:8888/");